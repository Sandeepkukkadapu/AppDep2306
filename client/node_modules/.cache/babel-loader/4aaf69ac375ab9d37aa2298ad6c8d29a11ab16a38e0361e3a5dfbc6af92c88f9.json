{"ast":null,"code":"import _regeneratorRuntime from\"/home/brn-infotech/Desktop/appDep/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/brn-infotech/Desktop/appDep/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/brn-infotech/Desktop/appDep/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{Link,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfile(){var firstNameInputRef=useRef();var lastNameInputRef=useRef();var PasswordInutRef=useRef();var profilePicInputRef=useRef();var _useState=useState(\"./images/profilepic.jpeg\"),_useState2=_slicedToArray(_useState,2),profilePic=_useState2[0],setProfilePic=_useState2[1];var loc=useLocation();console.log(loc);console.log(\"inside edit profile\");useEffect(function(){firstNameInputRef.current.value=loc.state.firstName;lastNameInputRef.current.value=loc.state.lastName;PasswordInutRef.current.value=loc.state.password;},[]);var sendUpdatedDataToServer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataToSend,i,reqOptions,JSONData,JSOData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dataToSend=new FormData();dataToSend.append(\"fn\",firstNameInputRef.current.value);dataToSend.append(\"ln\",lastNameInputRef.current.value);dataToSend.append(\"email\",loc.state.email);dataToSend.append(\"password\",PasswordInutRef.current.value);for(i=0;i<profilePicInputRef.current.files.length;i++){dataToSend.append(\"profilePic\",profilePicInputRef.current.files[i]);}reqOptions={method:\"PATCH\",body:dataToSend};_context.next=9;return fetch(\"/updateDetails\",reqOptions);case 9:JSONData=_context.sent;_context.next=12;return JSONData.json();case 12:JSOData=_context.sent;alert(JSOData.msg);console.log(JSOData);case 15:case\"end\":return _context.stop();}},_callee);}));return function sendUpdatedDataToServer(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"EditProfile\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profile Pic:-\"}),/*#__PURE__*/_jsx(\"input\",{ref:profilePicInputRef,type:\"file\",onChange:function onChange(){var selectedFileURL=URL.createObjectURL(profilePicInputRef.current.files[0]);setProfilePic(selectedFileURL);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"profilepicpreview\",src:profilePic})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name:-\"}),/*#__PURE__*/_jsx(\"input\",{ref:firstNameInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name:-\"}),/*#__PURE__*/_jsx(\"input\",{ref:lastNameInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:-\"}),/*#__PURE__*/_jsx(\"input\",{ref:PasswordInutRef})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){sendUpdatedDataToServer();},children:\"Update\"})})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Login\"})]});}export default EditProfile;","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","useLocation","jsx","_jsx","jsxs","_jsxs","EditProfile","firstNameInputRef","lastNameInputRef","PasswordInutRef","profilePicInputRef","_useState","_useState2","_slicedToArray","profilePic","setProfilePic","loc","console","log","current","value","state","firstName","lastName","password","sendUpdatedDataToServer","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dataToSend","i","reqOptions","JSONData","JSOData","wrap","_callee$","_context","prev","next","FormData","append","email","files","length","method","body","fetch","sent","json","alert","msg","stop","apply","arguments","className","children","ref","type","onChange","selectedFileURL","URL","createObjectURL","src","onClick","to"],"sources":["/home/brn-infotech/Desktop/appDep/client/src/componts/EditProfile.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport {  Link ,useLocation } from 'react-router-dom';\n\nfunction EditProfile() {\n\n    let firstNameInputRef = useRef();\n    let lastNameInputRef = useRef();\n    let PasswordInutRef = useRef();\n    let profilePicInputRef = useRef();\n    let [profilePic,setProfilePic] = useState(\"./images/profilepic.jpeg\");\n    let loc = useLocation();\n    console.log(loc);\n    console.log(\"inside edit profile\")\n    \n\n\n    useEffect(()=>{\n    \n        firstNameInputRef.current.value = loc.state.firstName;\n        lastNameInputRef.current.value = loc.state.lastName;\n       PasswordInutRef.current.value = loc.state.password;\n    \n\n    },[]);\n    \n\n  \n\n    let sendUpdatedDataToServer = async()=>{\n     let dataToSend = new FormData();\n      dataToSend.append(\"fn\",firstNameInputRef.current.value);\n      dataToSend.append(\"ln\",lastNameInputRef.current.value);\n      dataToSend.append(\"email\",loc.state.email);\n      dataToSend.append(\"password\",PasswordInutRef.current.value);\n            \n      for(let i=0;i<profilePicInputRef.current.files.length;i++){\n        dataToSend.append(\"profilePic\",profilePicInputRef.current.files[i]);\n      }\nlet reqOptions = {\n        method:\"PATCH\",\n        body:dataToSend,\n      };\n\nlet JSONData = await fetch (\"/updateDetails\",reqOptions);\n\nlet JSOData = await JSONData.json();\n\nalert(JSOData.msg);\nconsole.log(JSOData);\n    };\n  return (\n    <div className='App'>\n   <form>\n    <div><h1>EditProfile</h1></div>\n\n    <div>\n        <label>Profile Pic:-</label>\n        <input ref={profilePicInputRef} type='file'\n        onChange={()=>{\n         let selectedFileURL = URL.createObjectURL\n         (profilePicInputRef.current.files[0])\n         setProfilePic(selectedFileURL);\n\n        }}\n        ></input>\n    </div>\n    <div>\n      <img className='profilepicpreview' src ={profilePic}></img>\n    </div>\n    <div>\n        <label>First Name:-</label>\n        <input ref={firstNameInputRef}></input>\n    </div>\n    <div>\n        <label>Last Name:-</label>\n        <input ref={lastNameInputRef}></input>\n    </div>\n    <div>\n        <label>Password:-</label>\n        <input ref={PasswordInutRef}></input>\n    </div>\n   \n    \n    \n\n    <div>\n       <button type='button' onClick={()=>{\n        sendUpdatedDataToServer();\n       }}>Update</button>\n    </div>\n\n   </form>\n   <Link to = \"/\">Login</Link>\n    </div>\n  )\n}\n\nexport default EditProfile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}