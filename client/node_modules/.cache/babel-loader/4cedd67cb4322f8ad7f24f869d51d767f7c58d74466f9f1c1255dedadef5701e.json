{"ast":null,"code":"var _jsxFileName = \"/home/brn-infotech/Desktop/appDep/client/src/componts/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  let emailInputRef = useRef();\n  let PasswordInutRef = useRef();\n  let navigate = useNavigate();\n  useEffect(() => {\n    axios.defaults.baseURL = 'http://localhost:2345';\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\n    emailInputRef.current.value = localStorage.getItem(\"email\");\n    PasswordInutRef.current.value = localStorage.getItem(\"password\");\n    //  validateCredentials();\n    // validateToken();\n  }, []);\n  let validateCredentials = async () => {\n    let dataToSend = new FormData();\n    dataToSend.append(\"email\", emailInputRef.current.value);\n    dataToSend.append(\"password\", PasswordInutRef.current.value);\n    let reqOptions = {\n      method: \"POST\",\n      body: dataToSend\n    };\n    let JSONData = await fetch(\"http://localhost:2345/validateLogin\", reqOptions);\n    let JSOData = await JSONData.json();\n    if (JSOData.status === \"success\") {\n      console.log(JSOData);\n      // localStorage.setItem(\"email\",emailInputRef.current.value);\n      // localStorage.setItem(\"password\",PasswordInutRef.current.value);\n      localStorage.setItem(\"token\", JSOData.token);\n      navigate(\"/home\", {\n        state: JSOData\n      });\n    } else {\n      alert(JSOData.msg);\n    }\n  };\n  let validateCredentialsThruAxios = async () => {\n    let dataToSend = new FormData();\n    dataToSend.append(\"email\", emailInputRef.current.value);\n    dataToSend.append(\"password\", PasswordInutRef.current.value);\n    let responce = await axios.post(\"/validateLogin\", dataToSend);\n    console.log(responce);\n    if (responce.data.status === \"success\") {\n      console.log(responce.data);\n      // localStorage.setItem(\"email\",emailInputRef.current.value);\n      // localStorage.setItem(\"password\",PasswordInutRef.current.value);\n      localStorage.setItem(\"token\", responce.data.token);\n      navigate(\"/home\", {\n        state: responce.data\n      });\n    } else {\n      alert(responce.data.msg);\n    }\n  };\n  let validateToken = async () => {\n    let dataToSend = new FormData();\n    dataToSend.append(\"token\", localStorage.getItem(\"token\"));\n    let reqOptions = {\n      method: \"POST\",\n      body: dataToSend\n    };\n    let JSONData = await fetch(\"http://localhost:2345/validateToken\", reqOptions);\n    let JSOData = await JSONData.json();\n    console.log(JSOData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: emailInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: PasswordInutRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            //  validateCredentials();\n            validateCredentialsThruAxios();\n          },\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/signup\",\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"/zWjKW4/1/fyuGYxZzTQ/EID13k=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useRef","Link","useNavigate","axios","jsxDEV","_jsxDEV","Login","_s","emailInputRef","PasswordInutRef","navigate","defaults","baseURL","headers","common","localStorage","getItem","current","value","validateCredentials","dataToSend","FormData","append","reqOptions","method","body","JSONData","fetch","JSOData","json","status","console","log","setItem","token","state","alert","msg","validateCredentialsThruAxios","responce","post","data","validateToken","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","onClick","to","_c","$RefreshReg$"],"sources":["/home/brn-infotech/Desktop/appDep/client/src/componts/Login.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { Link, useNavigate } from 'react-router-dom';\n\nimport axios from \"axios\";\n\nfunction Login() {\n\n   \n  \n    let emailInputRef=  useRef();\n    let PasswordInutRef = useRef();\n    let navigate = useNavigate();\n\n    useEffect(()=>{\n      axios.defaults.baseURL = 'http://localhost:2345';\n      axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\n      emailInputRef.current.value = localStorage.getItem(\"email\");\n   PasswordInutRef.current.value = localStorage.getItem(\"password\");\n  //  validateCredentials();\n    // validateToken();\n    },[])\n  \n\n    let validateCredentials = async()=>{\n\n    \n\n      let dataToSend = new FormData();\n    \n      dataToSend.append(\"email\",emailInputRef.current.value);\n      dataToSend.append(\"password\",PasswordInutRef.current.value);\n\n\n      let reqOptions = {\n        method:\"POST\",\n        body:dataToSend,\n      };\n\n      let JSONData = await fetch(\"http://localhost:2345/validateLogin\",reqOptions);\n\n      let JSOData =  await JSONData.json();\n\n      \n\n      if(JSOData.status === \"success\"){\n        console.log(JSOData);\n        // localStorage.setItem(\"email\",emailInputRef.current.value);\n        // localStorage.setItem(\"password\",PasswordInutRef.current.value);\n        localStorage.setItem(\"token\",JSOData.token);\n        navigate(\"/home\",{state:JSOData})\n      } else{\n        alert(JSOData.msg)\n      }\n\n     \n\n\n    };\n\n    let validateCredentialsThruAxios = async()=>{\n\n    \n\n      let dataToSend = new FormData();\n    \n      dataToSend.append(\"email\",emailInputRef.current.value);\n      dataToSend.append(\"password\",PasswordInutRef.current.value);\n\n     let responce = await axios.post(\"/validateLogin\",dataToSend)\n   \n     console.log(responce);\n      \n\n      if(responce.data.status === \"success\"){\n        console.log(responce.data);\n        // localStorage.setItem(\"email\",emailInputRef.current.value);\n        // localStorage.setItem(\"password\",PasswordInutRef.current.value);\n        localStorage.setItem(\"token\",responce.data.token);\n        navigate(\"/home\",{state:responce.data})\n      } else{\n        alert(responce.data.msg)\n      }\n\n     };\n\n    let validateToken =async()=>{\n      let dataToSend = new FormData();\n      dataToSend.append(\"token\",localStorage.getItem(\"token\"))\n\n      let reqOptions ={\n        method:\"POST\",\n        body:dataToSend\n      }\n\n      let JSONData = await fetch(\"http://localhost:2345/validateToken\",reqOptions);\n\n      let JSOData =await JSONData.json();\n\n      console.log(JSOData);\n\n    }\n\n  return (\n    <div className='App'>\n   <form>\n    <div><h1>login</h1></div>\n\n    <div>\n        <label>Email:-</label>\n        <input ref={emailInputRef}></input>\n    </div>\n    <div>\n        <label>Password:-</label>\n        <input ref={PasswordInutRef}></input>\n    </div>\n   \n  \n\n    <div>\n       <button type='button' onClick={()=>{\n    //  validateCredentials();\n    validateCredentialsThruAxios();\n       }}>login</button>\n    </div>\n\n   </form>\n   <Link to=\"/signup\">Signup</Link>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}