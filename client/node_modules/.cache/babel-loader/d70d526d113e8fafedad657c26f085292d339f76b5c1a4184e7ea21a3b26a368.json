{"ast":null,"code":"import _regeneratorRuntime from\"/home/brn-infotech/Desktop/appDep/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/brn-infotech/Desktop/appDep/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var loc=useLocation();var navigate=useNavigate();console.log(loc);var deleteAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataToSend,reqOptions,JSONData,JSOData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dataToSend=new FormData();dataToSend.append(\"email\",loc.state.data.email);reqOptions={method:\"DELETE\",body:dataToSend};_context.next=5;return fetch(\"/deleteUser\",reqOptions);case 5:JSONData=_context.sent;_context.next=8;return JSONData.json();case 8:JSOData=_context.sent;if(JSOData.status==\"success\"){localStorage.clear();alert(JSOData.msg);navigate(\"/\");}else{alert(\"some Technical Error,unable to delete\");}case 10:case\"end\":return _context.stop();}},_callee);}));return function deleteAccount(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"LogOut\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"/EditProfile\",{state:loc.state.data});},children:\" Edit Profile\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){deleteAccount();},children:\"Delete Account\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[loc.state.data.firstName,loc.state.data.lastName,\" \"]}),/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(loc.state.data.profilePic)})]});}export default Home;","map":{"version":3,"names":["React","useLocation","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Home","loc","navigate","console","log","deleteAccount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dataToSend","reqOptions","JSONData","JSOData","wrap","_callee$","_context","prev","next","FormData","append","state","data","email","method","body","fetch","sent","json","status","localStorage","clear","alert","msg","stop","apply","arguments","children","to","onClick","firstName","lastName","src","concat","profilePic"],"sources":["/home/brn-infotech/Desktop/appDep/client/src/componts/Home.js"],"sourcesContent":["import React from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { Link } from 'react-router-dom';\n\n\nfunction Home() {\n    let loc = useLocation();\n    let navigate = useNavigate();\n    console.log(loc);\n\n    let deleteAccount  = async()=>{\n  \n     let dataToSend = new FormData();\n     dataToSend.append(\"email\",loc.state.data.email);\n\n      let reqOptions = {\n        method:\"DELETE\",\n        body:dataToSend\n      };\n\n     let JSONData = await fetch(\"/deleteUser\",reqOptions);\n\n     let JSOData = await JSONData.json();\n     if(JSOData.status == \"success\"){\n      localStorage.clear();\n      alert(JSOData.msg)\n      navigate(\"/\")\n     }else{\n      alert(\"some Technical Error,unable to delete\");\n     }\n\n    }\n  return (\n    <div>\n\n    <Link to = \"/\">LogOut</Link>\n\n        <button \n        onClick={()=>{\n           navigate(\"/EditProfile\",{state:loc.state.data });\n        }}\n        > Edit Profile</button>\n        <br></br>\n        <br></br>\n        <button onClick={()=>{\n          deleteAccount();\n        }}>Delete Account</button>\n\n        <h1>{loc.state.data.firstName}{loc.state.data.lastName} </h1>\n        <img src={`${loc.state.data.profilePic}`}></img>\n        \n        \n\n    </div>\n  )\n}\n\nexport default Home"],"mappings":"4QAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGxC,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACZ,GAAI,CAAAC,GAAG,CAAGR,WAAW,CAAC,CAAC,CACvB,GAAI,CAAAS,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC5BS,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAEhB,GAAI,CAAAI,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAA,MAAAC,UAAA,CAAAC,UAAA,CAAAC,QAAA,CAAAC,OAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAEhBR,UAAU,CAAG,GAAI,CAAAS,QAAQ,CAAC,CAAC,CAC/BT,UAAU,CAACU,MAAM,CAAC,OAAO,CAACpB,GAAG,CAACqB,KAAK,CAACC,IAAI,CAACC,KAAK,CAAC,CAE1CZ,UAAU,CAAG,CACfa,MAAM,CAAC,QAAQ,CACfC,IAAI,CAACf,UACP,CAAC,CAAAM,QAAA,CAAAE,IAAA,SAEmB,CAAAQ,KAAK,CAAC,aAAa,CAACf,UAAU,CAAC,QAAhDC,QAAQ,CAAAI,QAAA,CAAAW,IAAA,CAAAX,QAAA,CAAAE,IAAA,SAEQ,CAAAN,QAAQ,CAACgB,IAAI,CAAC,CAAC,QAA/Bf,OAAO,CAAAG,QAAA,CAAAW,IAAA,CACX,GAAGd,OAAO,CAACgB,MAAM,EAAI,SAAS,CAAC,CAC9BC,YAAY,CAACC,KAAK,CAAC,CAAC,CACpBC,KAAK,CAACnB,OAAO,CAACoB,GAAG,CAAC,CAClBhC,QAAQ,CAAC,GAAG,CAAC,CACd,CAAC,IAAI,CACJ+B,KAAK,CAAC,uCAAuC,CAAC,CAC/C,CAAC,yBAAAhB,QAAA,CAAAkB,IAAA,MAAAzB,OAAA,GAED,kBArBG,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAA8B,KAAA,MAAAC,SAAA,OAqBhB,CACH,mBACEtC,KAAA,QAAAuC,QAAA,eAEAzC,IAAA,CAACF,IAAI,EAAC4C,EAAE,CAAG,GAAG,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,cAExBzC,IAAA,WACA2C,OAAO,CAAE,SAAAA,QAAA,CAAI,CACVtC,QAAQ,CAAC,cAAc,CAAC,CAACoB,KAAK,CAACrB,GAAG,CAACqB,KAAK,CAACC,IAAK,CAAC,CAAC,CACnD,CAAE,CAAAe,QAAA,CACD,eAAa,CAAQ,CAAC,cACvBzC,IAAA,QAAQ,CAAC,cACTA,IAAA,QAAQ,CAAC,cACTA,IAAA,WAAQ2C,OAAO,CAAE,SAAAA,QAAA,CAAI,CACnBnC,aAAa,CAAC,CAAC,CACjB,CAAE,CAAAiC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAE1BvC,KAAA,OAAAuC,QAAA,EAAKrC,GAAG,CAACqB,KAAK,CAACC,IAAI,CAACkB,SAAS,CAAExC,GAAG,CAACqB,KAAK,CAACC,IAAI,CAACmB,QAAQ,CAAC,GAAC,EAAI,CAAC,cAC7D7C,IAAA,QAAK8C,GAAG,IAAAC,MAAA,CAAK3C,GAAG,CAACqB,KAAK,CAACC,IAAI,CAACsB,UAAU,CAAG,CAAM,CAAC,EAI/C,CAAC,CAEV,CAEA,cAAe,CAAA7C,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}